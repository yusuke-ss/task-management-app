# タスク管理アプリケーション 要件定義書

**バージョン:** 1.0
**作成日:** 2026年1月21日
**ステータス:** Draft

---

## 1. プロジェクト概要

個人ユーザー向けのシンプルなタスク管理Webアプリケーションを開発する。
ユーザーが日々のタスクを効率的に管理できるよう、直感的なインターフェースと基本的なCRUD機能を提供する。

---

## 2. 目的とゴール

### 2.1 目的
- 個人ユーザーが日常のタスクを簡単に記録・管理できるツールを提供する
- シンプルで使いやすいUIで、誰でもすぐに使い始められるようにする

### 2.2 ゴール
- タスクの作成・閲覧・編集・削除が直感的に行える
- ブラウザベースでどのデバイスからでもアクセス可能
- データの永続化により、ブラウザを閉じても情報が保持される

---

## 3. 対象ユーザー

**メインターゲット:** 個人ユーザー

### ユーザーペルソナ
- 年齢層: 20代〜50代
- 職業: 学生、社会人、フリーランスなど
- 技術レベル: 基本的なWebブラウザ操作ができる
- ニーズ: シンプルで軽量なタスク管理ツールを求めている

---

## 4. 機能要件

### 4.1 必須機能（MVP）

#### 4.1.1 タスク作成機能
- タスクのタイトルを入力できる
- タスクの説明（任意）を入力できる
- 作成日時が自動的に記録される
- 入力フォームのバリデーション
  - タイトル: 必須、最大100文字
  - 説明: 任意、最大500文字

#### 4.1.2 タスク一覧表示機能
- 登録されたすべてのタスクを一覧表示
- タスクの表示項目:
  - タイトル
  - 説明（折りたたみ表示）
  - 作成日時
  - 完了ステータス
- 完了タスクと未完了タスクを視覚的に区別
- タスクが0件の場合は適切なメッセージを表示

#### 4.1.3 タスク編集機能
- 既存タスクのタイトルと説明を編集できる
- 編集時は作成時と同じバリデーションを適用
- 更新日時を記録

#### 4.1.4 タスク削除機能
- タスクを個別に削除できる
- 削除前に確認ダイアログを表示
- 削除は元に戻せないことをユーザーに明示

#### 4.1.5 タスク完了/未完了切り替え機能
- チェックボックスまたはボタンで完了状態を切り替え
- 完了したタスクは視覚的に区別（打ち消し線、色変更など）

### 4.2 将来的な拡張機能（Phase 2以降）
- 優先度設定機能
- 期限設定とリマインダー
- カテゴリ・タグ機能
- 検索・フィルタリング機能
- ソート機能（作成日、更新日、タイトル順など）
- データエクスポート機能（JSON, CSV）

---

## 5. 非機能要件

### 5.1 パフォーマンス
- ページ初期表示: 2秒以内
- タスクの追加・編集・削除操作: 即座に反映（100ms以内）
- 100件のタスクまで快適に動作

### 5.2 ユーザビリティ
- レスポンシブデザイン（モバイル、タブレット、デスクトップ対応）
- 直感的なUI/UX
- アクセシビリティ対応（キーボード操作、スクリーンリーダー対応）

### 5.3 セキュリティ
- XSS対策（入力値のサニタイジング）
- CSRF対策
- データの安全な保存（SQLインジェクション対策）

### 5.4 互換性
- 対応ブラウザ:
  - Chrome（最新版）
  - Firefox（最新版）
  - Safari（最新版）
  - Edge（最新版）

### 5.5 データ管理
- ブラウザのlocalStorageまたはSQLiteでデータを永続化
- データのバックアップとリストア機能（将来的に）

---

## 6. 技術スタック

### 6.1 フロントエンド
- **フレームワーク:** Next.js 15.x（React 19）
- **言語:** TypeScript
- **スタイリング:** Tailwind CSS
- **状態管理:** React Hooks（useState, useEffect等）

### 6.2 バックエンド
- **API:** Next.js App Router（API Routes）
- **データベース:** SQLite
- **ORM:** Prisma（推奨）

### 6.3 開発ツール
- **パッケージマネージャー:** npm または pnpm
- **コード品質:** ESLint, Prettier
- **バージョン管理:** Git

### 6.4 デプロイ
- **ホスティング:** Vercel（推奨）または Netlify
- **環境:** Node.js 20.x以上

---

## 7. システム構成

```
┌─────────────────────────────────────┐
│         ブラウザ（クライアント）        │
│  - Next.js (React)                  │
│  - Tailwind CSS                     │
└──────────────┬──────────────────────┘
               │ HTTP/HTTPS
               │
┌──────────────▼──────────────────────┐
│      Next.js Server (App Router)    │
│  - API Routes                       │
│  - Server Components                │
└──────────────┬──────────────────────┘
               │
               │ Prisma ORM
               │
┌──────────────▼──────────────────────┐
│         SQLite Database             │
│  - tasks テーブル                    │
└─────────────────────────────────────┘
```

---

## 8. データモデル（想定）

### 8.1 Tasksテーブル

| カラム名 | 型 | 制約 | 説明 |
|---------|-----|------|------|
| id | INTEGER | PRIMARY KEY, AUTOINCREMENT | タスクID |
| title | TEXT | NOT NULL | タスクのタイトル |
| description | TEXT | NULL | タスクの説明 |
| is_completed | BOOLEAN | NOT NULL, DEFAULT FALSE | 完了フラグ |
| created_at | DATETIME | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 作成日時 |
| updated_at | DATETIME | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 更新日時 |

### 8.2 Prismaスキーマ例

```prisma
model Task {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  isCompleted Boolean  @default(false) @map("is_completed")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  @@map("tasks")
}
```

---

## 9. 画面構成（想定）

### 9.1 メイン画面（タスク一覧）

```
┌────────────────────────────────────────┐
│  タスク管理アプリ                        │
├────────────────────────────────────────┤
│                                        │
│  [新規タスク作成ボタン]                  │
│                                        │
│  ┌──────────────────────────────────┐ │
│  │ □ タスク1のタイトル                │ │
│  │   作成日: 2026/01/21              │ │
│  │   [編集] [削除]                   │ │
│  └──────────────────────────────────┘ │
│                                        │
│  ┌──────────────────────────────────┐ │
│  │ ☑ 完了したタスク                  │ │
│  │   作成日: 2026/01/20              │ │
│  │   [編集] [削除]                   │ │
│  └──────────────────────────────────┘ │
│                                        │
└────────────────────────────────────────┘
```

### 9.2 タスク作成/編集モーダル

```
┌────────────────────────────────────────┐
│  新規タスク作成                          │
├────────────────────────────────────────┤
│                                        │
│  タイトル *                             │
│  [_____________________________]       │
│                                        │
│  説明                                  │
│  [_____________________________]       │
│  [_____________________________]       │
│  [_____________________________]       │
│                                        │
│       [キャンセル]  [保存]              │
│                                        │
└────────────────────────────────────────┘
```

---

## 10. API設計（想定）

### 10.1 エンドポイント一覧

| メソッド | エンドポイント | 説明 |
|---------|--------------|------|
| GET | /api/tasks | タスク一覧を取得 |
| POST | /api/tasks | 新規タスクを作成 |
| GET | /api/tasks/[id] | 特定のタスクを取得 |
| PUT | /api/tasks/[id] | タスクを更新 |
| DELETE | /api/tasks/[id] | タスクを削除 |
| PATCH | /api/tasks/[id]/toggle | タスクの完了状態を切り替え |

### 10.2 リクエスト/レスポンス例

#### タスク作成（POST /api/tasks）

**リクエスト:**
```json
{
  "title": "買い物に行く",
  "description": "牛乳とパンを買う"
}
```

**レスポンス:**
```json
{
  "id": 1,
  "title": "買い物に行く",
  "description": "牛乳とパンを買う",
  "isCompleted": false,
  "createdAt": "2026-01-21T10:30:00Z",
  "updatedAt": "2026-01-21T10:30:00Z"
}
```

---

## 11. ユーザーストーリー

1. **タスク作成**
   - ユーザーとして、新しいタスクを追加できるようにしたい
   - 理由: やるべきことを忘れないため

2. **タスク確認**
   - ユーザーとして、登録したタスクの一覧を見られるようにしたい
   - 理由: 今日やるべきことを確認するため

3. **タスク完了**
   - ユーザーとして、完了したタスクにチェックを入れられるようにしたい
   - 理由: 達成感を得て、残りのタスクに集中するため

4. **タスク編集**
   - ユーザーとして、タスクの内容を後から修正できるようにしたい
   - 理由: 状況の変化に応じて柔軟に対応するため

5. **タスク削除**
   - ユーザーとして、不要になったタスクを削除できるようにしたい
   - 理由: リストを整理して見やすくするため

---

## 12. 制約事項

- ユーザー認証機能は実装しない（単一ユーザー向け）
- データはローカルに保存され、複数デバイス間での同期は行わない
- オフライン機能は初期バージョンでは対応しない
- タスクの添付ファイル機能は対応しない

---

## 13. リスクと対応策

| リスク | 影響度 | 対応策 |
|-------|-------|--------|
| ブラウザのストレージ制限 | 中 | SQLiteを使用してデータ量の制限を緩和 |
| データの消失 | 高 | エクスポート機能を将来的に実装 |
| ブラウザ互換性問題 | 中 | 主要ブラウザでの動作テストを徹底 |

---

## 14. 開発フェーズ

### Phase 1: MVP開発（推奨初期スコープ）
- プロジェクトのセットアップ
- データベース設計とPrismaセットアップ
- 基本的なCRUD機能の実装
- シンプルなUIの実装

### Phase 2: UI/UX改善
- レスポンシブデザインの最適化
- アニメーション追加
- エラーハンドリングの強化

### Phase 3: 機能拡張
- 優先度・期限設定
- フィルタリング・検索機能
- データエクスポート機能

---

## 15. 成功指標

- ユーザーがタスクを5秒以内に作成できる
- UI操作が直感的で、説明なしで使える
- データが確実に保存され、ブラウザ再起動後も維持される
- モバイルデバイスでも快適に操作できる

---

## 付録

### A. 用語集
- **CRUD:** Create（作成）、Read（読み取り）、Update（更新）、Delete（削除）の略
- **MVP:** Minimum Viable Product（最小実用製品）
- **ORM:** Object-Relational Mapping（オブジェクト関係マッピング）

### B. 参考資料
- Next.js公式ドキュメント: https://nextjs.org/docs
- Prisma公式ドキュメント: https://www.prisma.io/docs
- Tailwind CSS公式ドキュメント: https://tailwindcss.com/docs

---

**文書履歴**

| バージョン | 日付 | 変更内容 | 作成者 |
|-----------|------|---------|--------|
| 1.0 | 2026-01-21 | 初版作成 | - |
